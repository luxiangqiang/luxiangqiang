---
title: 前端面试之【异步编程】
categories: 
- 前端
- 面试
tags: 
- 前端
- 面试
---

js 异步常考面试题！

<!--more-->



## JS 为什么用单线程？

**※ 答✔：js为什么会用单线程？**

> 1）js 单线程的特点就是同一时刻只能执行一个任务，js 的任务基本都是与用户互动，以及操作 DOM，所以使用单线程，否则会带来复杂的同步问题。
>
> 2）如果为多线程，多个线程同时操作 DOM 就会造成浏览器不知道以哪个为标准的问题。
>
> 3）如果执行同步问题的话，多线程需要加锁，执行任务造成非常的繁琐。
>
> 4）H5 新的规定。允许 JavaScript 脚本创建多个线程，但是子线程完全**受主线程控制**，且**不得操作DOM**。



## 单线程带来的问题是什么？JS 为什么会有异步？

**※ 答✔：单线程带来的问题是什么？JS 为什么会有异步？**

> 单线程就一味着要排队执行任务，如果前一个任务执行非常耗时，下一个任务就必须等待，如果是网络请求的话，必须等待着结果返回才会执行，那么页面就会出现卡死状态，导致页面无响应，影响用户的体验。为了解决单线程带来的问题，所以就设计 js 有两种任务，分别为**同步任务和异步任务**。 



## 同步代码和异步代码的执行顺序？

**※ 答✔：同步代码和异步代码的执行顺序？JS 的运行机制（Event Loop）？**

> 1）所有同步任务都在主线程上执行，形成一个执行栈。
>
> 2）主线程之外，还存在一个"任务队列"。只要异步任务有了运行结果，就在"任务队列"之中放置一个事件。
>
> 3）一旦"执行栈"中的所有同步任务执行完毕，系统就会读取"任务队列"，看看里面有哪些事件。那些对应的异步任务，于是结束等待状态，进入执行栈，开始执行。
>
> 4）只要主线程空了，就会去读取"任务队列"。



## js 怎么样实现异步？

**※ 答✔：js 怎么样实现异步？**

> 事件和回调函数。



#### 一、事件

> 任务队列"是一个事件的队列，当执行完异步任务时，就在任务队列中添加一个事件，表示该异步任务已经执行完成，可以进入执行栈了。主线程就会读取任务队列中完成的异步事件。



#### 二、回调函数

**※ 答✔：什么是回调函数**

> 回调函数不是由该函数的实现方直接调用，而是在特定的事件或条件发生时由另外的一方调用的，用于对该**事件**或**条件**进行响应 



**※ 答✔：回调函数有什么缺点？**

> 如果说个请求存在依赖性，容易写成回调地狱问题。



**※ 答✔：如何理解回调地狱问题？**

> 1）嵌套函数存在耦合性，一旦有所改动，牵一发而动全身。
>
> 2）嵌套函数一多，就很难处理错误。
>
> 3）回调函数不能使用 `try catch`  捕获异常(异常的捕获只能在函数执行的时候才能捕获到)。
>
> 4）回调函数不能直接 `return` 。

```
1、为什么不能捕获异常？
   这跟 js 的运行机制相关，异步任务执行完成会加入任务队列，当执行栈中没有可执行任务了，主线程取出任务队列中的异步任务并入栈执行，当异步任务执行的时候，捕获异常的函数已经在执行栈内退出了，所以异常无法被捕获。

2、为什么不能return？
   return 只能终止回调的函数的执行，而不能终止外部代码的执行。
   return false：阻止默认事件的发生（a标签跳转链接）。
```



**※ 答✔：如何解决回调地狱问题？**

- [玩转ES6之Generator]([http://luxiangqiang.xn--6qq986b3xl/2019/06/09/%E7%8E%A9%E8%BD%AC%20ES6%20%E4%B9%8B%E3%80%90Generator%E7%94%9F%E6%88%90%E5%99%A8%E3%80%91/](http://luxiangqiang.xn--6qq986b3xl/2019/06/09/玩转 ES6 之[Generator生成器]/))
- [玩转ES6之Promise]([http://luxiangqiang.xn--6qq986b3xl/2019/03/21/%E7%8E%A9%E8%BD%AC%20ES6%20%E4%B9%8B%E3%80%90promise%E5%AF%B9%E8%B1%A1%E3%80%91/](http://luxiangqiang.xn--6qq986b3xl/2019/03/21/玩转 ES6 之[promise对象]/))



### 二、Generator 生成器

[玩转ES6之Generator]([http://luxiangqiang.xn--6qq986b3xl/2019/06/09/%E7%8E%A9%E8%BD%AC%20ES6%20%E4%B9%8B%E3%80%90Generator%E7%94%9F%E6%88%90%E5%99%A8%E3%80%91/](http://luxiangqiang.xn--6qq986b3xl/2019/06/09/玩转 ES6 之[Generator生成器]/))



### 三、Promise 

[玩转ES6之Promise]([http://luxiangqiang.xn--6qq986b3xl/2019/03/21/%E7%8E%A9%E8%BD%AC%20ES6%20%E4%B9%8B%E3%80%90promise%E5%AF%B9%E8%B1%A1%E3%80%91/](http://luxiangqiang.xn--6qq986b3xl/2019/03/21/玩转 ES6 之[promise对象]/))









